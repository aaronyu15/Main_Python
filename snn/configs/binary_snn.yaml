# Configuration for Binary SNN Training
# Extreme quantization: 1-bit weights and activations
# Optimized for FPGA deployment with XNOR operations

# Model Configuration
model_type: 'SpikingFlowNetLite'  # Use lightweight model for binary
in_channels: 5
num_timesteps: 8                   # Fewer timesteps for faster inference
tau: 2.0
threshold: 1.0

# Quantization Settings - BINARY MODE
quantization_enabled: true
initial_bit_width: 1               # Binary from start (or use schedule)
binarize: true                     # Enable binary-specific optimizations

# Optional: Progressive path to binary
# Uncomment to train with gradual quantization
# quantization_schedule:
#   0: 8
#   50: 4
#   100: 2
#   150: 1

# Training Settings
num_epochs: 250                    # More epochs needed for binary
batch_size: 8                      # Can use larger batch with binary model
val_batch_size: 8
num_workers: 4

# Optimizer Settings
# Binary training requires careful tuning
learning_rate: 0.0001              # Higher LR can help binary training
weight_decay: 0.00001              # Less regularization for binary
lr_milestones: [100, 150, 200]
lr_gamma: 0.5

# Loss Weights
flow_weight: 1.0
smooth_weight: 0.05                # Less smoothness for binary (trade-off)
sparsity_weight: 0.05              # Encourage sparsity for FPGA efficiency
quant_weight: 0.0                  # No quantization loss (already binary)
target_spike_rate: 0.05            # Very sparse for maximum efficiency

# Data Settings
data_root: '../blink_sim/output'  # Path to dataset root directory
use_events: true
crop_size: [224, 224]              # Slightly smaller for faster training
max_train_samples: null
max_val_samples: null

# Training Loop Settings
grad_clip: 1.0                     # Important for binary training stability
log_interval: 10
save_interval: 10

# Hardware Settings
target_hardware: 'FPGA'
target_power_budget: 'ultra_low'   # Minimal power consumption
estimated_ops: 'XNOR_POPCOUNT'     # Hardware operations
deployment_ready: true             # This config targets deployment
